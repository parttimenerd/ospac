.\" Process this file with
.\" groff -man -Tascii ospac.1
.\"
.TH OSPAC 1 
.SH NAME
ospac \- open source podcast audio chain
.SH SYNOPSIS
.B ospac [-voice] [-mix] 
.I input1.wav input2.wav
.B ...
.B --output
.I output.wav

.SH DESCRIPTION
.B ospac
will take a multi-channel recording of a conversation and master this to 
a high-quality mix-down with support for intro and outro. It was developed 
due to the need of a batch solution for audio podcast creation.

.SH "INFORMATION OPTIONS"
.IP --help
Display help
.IP "--verbosity [n]" 
Set verbosity to level 
.I [n]

.SH "OUTPUT OPTIONS"
.IP --spatial
Produce a stereo output with inter aural delay.
.IP --stereo
Standard mode to produce a stereo output.
.IP --mono
Create a mono output.
.IP --multi
Create a multichannel file where each first and further channels in 
each input phases are mixed to each other
.IP "--output [file]"
Write final output to 
.I [file]
in wave format
.IP "--plot [file]"
Write a wave form image to
.I [file]
in netpbm PPM format

.SH "NEW SEGMENT OPTIONS"
.IP --voice
Start of voice channel segment (default)
.IP --mix
Start pre-mixed channel segment
.IP --raw 
Start of raw channel segment

.SH "SEGMENT TRANSITION OPTIONS"
.IP "--fade [s]"      
Fading transition over 
.I [s]
seconds
.IP "--overlap [s]"   
Overlapping transition over 
.I [s] 
seconds

.SH "CROSSTALK FILTER OPTIONS"
.IP --xgate
Enable robust crosstalk gate: This tries to mute channels that do not 
contribute significant input to cancel crosstalk.
Each channel is given an activity score computed by its windowed
energy multiple compared to its assumed silence level. The channel
with highest score has 100%, the rest are scaled down linearily
with their score compared to the highest.
.IP --no-xgate
Disable crosstalk gate
.IP --xfilter
Enable experimental crosstalk filter: This tries to mute channels that 
contain mainly input that was recorded by other channels before, i.e.
crosstalk.    
.IP --no-xfilter
Disable crosstalk filter for current input section

.SH "ADAPTIVE SILENCE SKIP OPTIONS"
.IP --skip          
Soft skip silent passages over 0.5s length
.IP --skip-level    
Fraction of maximum level considered silence (0.01)
.IP --no-skip       
Do not skip any content

.SH "LEVELING, EQUALIZER AND NORMALIZATION OPTIONS"
.IP --leveler       
Enable selective leveler: Enable windowed energy based leveler for current input section.
Depending on the energy level in a window around the current position
the filter decideds whether this is an active channel or not. In
case of an active channel it tries to amplify the current position
such the a target energy for the window is achieved. If the channel
is deemed inactive, the channel is de-amplified. To avoid to fast
changes in amplification levels, the levels are averaged over time.
.IP "--target [n]"    
Set average target L2 energy 
.I [n] 
for leveler. The L2 energy is normed to  one entry, so a level of 
2000-6000 seems suitable. Default: 3000.
.IP --no-leveler    
Disable selective leveler
.IP "--factor [n]"   
Multiply channels by factor 
.I [n] 
with sigmoid limiter (default: 1.25): 
Amplify the signal by given factor and pass the resulting signal
through a sigmoid function to prevent overdrive, but eventual
distortion cannot be avoided.
.IP --no-factor     
Disable channel multiplier
.IP --eq-voice
Attenuate frequency bands for improved diction
.IP --no-eq-voice
Do not attenuate frequency bands
.IP --normalize     
Normalize final mix
.IP --no-normalize  
Disable final normalization
.SH EXAMPLES
Mix 2 mono voice recordings with crosstalk filter, leveling and normalization:
.PP
.nf
.RS
 ospac person1.wav person2.wav --output target.wav
.RE
.fi
.PP

Mix podcast with stereo intro and outro:
.PP
.nf
.RS
  ospac --mix in.wav --overlap 4 \\
        --voice person1.wav person2.wav --overlap 4 \\
        --mix out.wav --output target.wav
.RE
.fi
.PP

 Again with shortened options:
.PP
.nf
.RS
  ospac -mi in.wav -ov 4 -v person1.wav person2.wav -ov 4 -mi -ot target.wav
.RE
.fi
.PP

 Just run the crosstalk filter and create an un-mixed multi-channel output:
.PP
.nf
.RS
  ospac --multi --raw t1.wav t2.wav t3.wav t4.wav --xfilter --output multi.wav
.RE
.fi
.PP

.SH AUTHOR
Sebastian Ritterbusch <ospac at ritterbusch dot de>
.SH "SEE ALSO"
.BR sox (1)